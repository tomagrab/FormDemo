@rendermode InteractiveServer

<EditForm Enhance Model="Person" method="POST" FormName="PersonForm" OnValidSubmit="HandleValidSubmit" class="flex flex-col gap-2 shadow max-w-sm p-4 rounded-md">
    <h3 class="font-bold">SSR Form</h3>
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="flex flex-col gap-2">
        <label for="FirstName">First Name</label>
        <InputText id="FirstName" @bind-Value="Person.FirstName" class="input" />
        <ValidationMessage For="@(() => Person.FirstName)" />
    </div>
    <div class="flex flex-col gap-2">
        <label for="LastName">Last Name</label>
        <InputText id="LastName" @bind-Value="Person.LastName" class="input" />
        <ValidationMessage For="@(() => Person.LastName)" />
    </div>
    <div class="flex flex-col">
        <button class="btn btn-base btn-primary" type="submit">
            Add Person
        </button>
    </div>
</EditForm>


@code
{
    [Parameter]
    public EventCallback<PersonModel> OnPersonAdd { get; set; }
    [SupplyParameterFromForm]
    private PersonModel Person { get; set; } = new();
    private List<PersonModel> People { get; set; } = new();
    private async Task HandleValidSubmit()
    {
        // Add the person to the list
        await OnPersonAdd.InvokeAsync(Person);

        // Reset the form
        Person = new();
    }
}
